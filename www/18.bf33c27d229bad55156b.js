(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{G2hk:function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),e=(t("Oipj"),function(){return function(){}}()),o=(t("CqG3"),t("ZZ/e")),a=function(){function n(n,l,t,u){var o=this;this.nav=n,this.fbauth=l,this.acrroute=t,this.fbstore=u,this.mensagem=new e,this.acrroute.paramMap.subscribe(function(n){o.usuariomensagem=n.get("id")}),this.VerificarLogin(),this.ListarMensagens(),this.GetUser()}return n.prototype.ngOnInit=function(){},n.prototype.GetUser=function(){var n=this;this.fbstore.collection("Usuarios").ref.where("userid","==",this.usuariomensagem).get().then(function(l){l.forEach(function(l){n.nomeuser=l.data().nome})})},n.prototype.ListarMensagens=function(){this.listamensagens=this.fbstore.collection("Mensagens",function(n){return n.limit(300).orderBy("data")}).valueChanges()},n.prototype.PostarMensagem=function(n){this.mensagem.de=this.usuario,this.mensagem.para=this.usuariomensagem,this.mensagem.data=new Date,this.fbstore.collection("Mensagens").add({de:this.mensagem.de,para:this.mensagem.para,texto:this.mensagem.texto,data:this.mensagem.data})},n.prototype.VerificarLogin=function(){var n=this;this.fbauth.authState.subscribe(function(l){l?n.usuario=l.uid:console.log("nao autenticado")})},n}(),i=function(){return function(){}}(),b=t("pMnS"),s=t("Ip0R"),c=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),r=u.nb({encapsulation:0,styles:[['.chatBubble[_ngcontent-%COMP%]   img.profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;position:absolute;bottom:10px}.chatBubble[_ngcontent-%COMP%]   img.profile-pic.left[_ngcontent-%COMP%]{left:10px}.chatBubble[_ngcontent-%COMP%]   img.profile-pic.right[_ngcontent-%COMP%]{right:10px}.chatBubble[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:10px;word-wrap:break-word;white-space:pre-wrap}.chatBubble[_ngcontent-%COMP%]   .message-detail[_ngcontent-%COMP%]{white-space:nowrap;font-size:14px}.chatBubble[_ngcontent-%COMP%]   .chat-bubble[_ngcontent-%COMP%]{border-radius:5px;display:inline-block;padding:10px 18px;position:relative;margin:10px;max-width:90%}.chatBubble[_ngcontent-%COMP%]   .chat-bubble[_ngcontent-%COMP%]:before{content:"\\00a0";display:block;height:16px;width:9px;position:absolute;bottom:-7.5px}.chatBubble[_ngcontent-%COMP%]   .chat-bubble.left[_ngcontent-%COMP%]{background-color:#fea21c;float:left;margin-left:45px}.chatBubble[_ngcontent-%COMP%]   .chat-bubble.left[_ngcontent-%COMP%]:before{background-color:#fea21c;left:10px;-webkit-transform:rotate(70deg) skew(5deg)}.chatBubble[_ngcontent-%COMP%]   .chat-bubble.right[_ngcontent-%COMP%]{background-color:#8abefa;color:#000;float:right;margin-right:45px}.chatBubble[_ngcontent-%COMP%]   .chat-bubble.right[_ngcontent-%COMP%]:before{background-color:#8abefa;right:10px;-webkit-transform:rotate(118deg) skew(-5deg)}.chatBubble[_ngcontent-%COMP%]   .chat-bubble.right[_ngcontent-%COMP%]   a.autolinker[_ngcontent-%COMP%]{color:#000;font-weight:700}']],data:{}});function g(n){return u.Ib(0,[u.Bb(0,s.e,[u.u]),(n()(),u.pb(1,0,null,null,7,"div",[["class","chatBubble"]],null,null,null,null,null)),(n()(),u.pb(2,0,null,null,6,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),u.pb(3,0,null,null,1,"div",[["class","message"]],null,null,null,null,null)),(n()(),u.Gb(4,null,["",""])),(n()(),u.pb(5,0,null,null,3,"div",[["class","message-detail"]],null,null,null,null,null)),(n()(),u.pb(6,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),u.Gb(7,null,["",""])),u.Cb(8,2)],null,function(n,l){var t=l.component;n(l,2,0,u.rb(1,"chat-bubble ",t.posicao,"")),n(l,4,0,t.msg.texto);var e=u.Hb(l,7,0,n(l,8,0,u.zb(l,0),t.msg.data,"dd/MM/y H:mm"));n(l,7,0,e)})}var p=t("oBZk"),m=t("gIcY"),h=t("CB3U"),f=t("ZYCi"),d=t("tct4"),x=u.nb({encapsulation:0,styles:[[""]],data:{}});function C(n){return u.Ib(0,[(n()(),u.pb(0,0,null,null,1,"app-chat-bubble",[],null,null,null,g,r)),u.ob(1,114688,null,0,c,[],{msg:[0,"msg"],posicao:[1,"posicao"]},null)],function(n,l){n(l,1,0,l.parent.context.$implicit,"left")},null)}function k(n){return u.Ib(0,[(n()(),u.pb(0,0,null,null,1,"app-chat-bubble",[],null,null,null,g,r)),u.ob(1,114688,null,0,c,[],{msg:[0,"msg"],posicao:[1,"posicao"]},null)],function(n,l){n(l,1,0,l.parent.context.$implicit,"right")},null)}function M(n){return u.Ib(0,[(n()(),u.pb(0,0,null,null,5,"ion-item",[],null,null,null,p.x,p.j)),u.ob(1,49152,null,0,o.G,[u.h,u.k],null,null),(n()(),u.gb(16777216,null,0,1,null,C)),u.ob(3,16384,null,0,s.k,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.gb(16777216,null,0,1,null,k)),u.ob(5,16384,null,0,s.k,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,3,0,l.context.$implicit.de==t.usuario&&l.context.$implicit.para==t.usuariomensagem),n(l,5,0,l.context.$implicit.para==t.usuario&&l.context.$implicit.de==t.usuariomensagem)},null)}function O(n){return u.Ib(0,[(n()(),u.pb(0,0,null,null,11,"ion-header",[],null,null,null,p.u,p.g)),u.ob(1,49152,null,0,o.A,[u.h,u.k],null,null),(n()(),u.pb(2,0,null,0,9,"ion-toolbar",[],null,null,null,p.B,p.n)),u.ob(3,49152,null,0,o.Ab,[u.h,u.k],null,null),(n()(),u.pb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,p.r,p.d)),u.ob(5,49152,null,0,o.k,[u.h,u.k],null,null),(n()(),u.pb(6,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==u.zb(n,8).onClick(t)&&e),e},p.p,p.b)),u.ob(7,49152,null,0,o.f,[u.h,u.k],null,null),u.ob(8,16384,null,0,o.g,[[2,o.gb],o.Fb],null,null),(n()(),u.pb(9,0,null,0,2,"ion-title",[],null,null,null,p.A,p.m)),u.ob(10,49152,null,0,o.yb,[u.h,u.k],null,null),(n()(),u.Gb(11,0,["Conversa com ",""])),(n()(),u.pb(12,0,null,null,6,"ion-content",[],null,null,null,p.s,p.e)),u.ob(13,49152,null,0,o.t,[u.h,u.k],null,null),(n()(),u.pb(14,0,null,0,4,"ion-list",[["no-lines",""]],null,null,null,p.z,p.l)),u.ob(15,49152,null,0,o.N,[u.h,u.k],null,null),(n()(),u.gb(16777216,null,0,2,null,M)),u.ob(17,278528,null,0,s.j,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),u.Bb(131072,s.b,[u.h]),(n()(),u.pb(19,0,null,null,16,"ion-footer",[],null,null,null,p.t,p.f)),u.ob(20,49152,null,0,o.y,[u.h,u.k],null,null),(n()(),u.pb(21,0,null,0,14,"ion-toolbar",[],null,null,null,p.B,p.n)),u.ob(22,49152,null,0,o.Ab,[u.h,u.k],null,null),(n()(),u.pb(23,0,null,0,12,"ion-item",[["no-lines",""]],null,null,null,p.x,p.j)),u.ob(24,49152,null,0,o.G,[u.h,u.k],null,null),(n()(),u.pb(25,0,null,0,6,"ion-input",[["name","txtmensagem"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var e=!0,o=n.component;return"ionBlur"===l&&(e=!1!==u.zb(n,26)._handleBlurEvent()&&e),"ionChange"===l&&(e=!1!==u.zb(n,26)._handleInputEvent(t.target.value)&&e),"ngModelChange"===l&&(e=!1!==(o.mensagem.texto=t)&&e),"keyup.enter"===l&&(o.PostarMensagem(o.mensagem.texto),e=!1!==(o.mensagem.texto="")&&e),e},p.w,p.i)),u.ob(26,16384,null,0,o.Jb,[u.k],null,null),u.Db(1024,null,m.c,function(n){return[n]},[o.Jb]),u.ob(28,671744,null,0,m.h,[[8,null],[8,null],[8,null],[6,m.c]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Db(2048,null,m.d,null,[m.h]),u.ob(30,16384,null,0,m.e,[[4,m.d]],null,null),u.ob(31,49152,null,0,o.F,[u.h,u.k],{name:[0,"name"],type:[1,"type"]},null),(n()(),u.pb(32,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;return"click"===l&&(e.PostarMensagem(e.mensagem.texto),u=!1!==(e.mensagem.texto="")&&u),u},p.q,p.c)),u.ob(33,49152,null,0,o.j,[u.h,u.k],null,null),(n()(),u.pb(34,0,null,0,1,"ion-icon",[["name","send"]],null,null,null,p.v,p.h)),u.ob(35,49152,null,0,o.B,[u.h,u.k],{name:[0,"name"]},null)],function(n,l){var t=l.component;n(l,17,0,u.Hb(l,17,0,u.zb(l,18).transform(t.listamensagens))),n(l,28,0,"txtmensagem",t.mensagem.texto),n(l,31,0,"txtmensagem","text"),n(l,35,0,"send")},function(n,l){n(l,11,0,l.component.nomeuser),n(l,25,0,u.zb(l,30).ngClassUntouched,u.zb(l,30).ngClassTouched,u.zb(l,30).ngClassPristine,u.zb(l,30).ngClassDirty,u.zb(l,30).ngClassValid,u.zb(l,30).ngClassInvalid,u.zb(l,30).ngClassPending)})}function P(n){return u.Ib(0,[(n()(),u.pb(0,0,null,null,1,"app-mensagens",[],null,null,null,O,x)),u.ob(1,114688,null,0,a,[o.Fb,h.AngularFireAuth,f.a,d.AngularFirestore],null,null)],function(n,l){n(l,1,0)},null)}var v=u.lb("app-mensagens",a,P,{},{},[]);t.d(l,"MensagensPageModuleNgFactory",function(){return _});var _=u.mb(i,[],function(n){return u.wb([u.xb(512,u.j,u.bb,[[8,[b.a,v]],[3,u.j],u.x]),u.xb(4608,s.m,s.l,[u.u,[2,s.t]]),u.xb(4608,m.k,m.k,[]),u.xb(4608,o.b,o.b,[u.z,u.g]),u.xb(4608,o.Eb,o.Eb,[o.b,u.j,u.q,s.d]),u.xb(4608,o.Hb,o.Hb,[o.b,u.j,u.q,s.d]),u.xb(1073742336,s.c,s.c,[]),u.xb(1073742336,m.i,m.i,[]),u.xb(1073742336,m.b,m.b,[]),u.xb(1073742336,o.Cb,o.Cb,[]),u.xb(1073742336,f.o,f.o,[[2,f.u],[2,f.m]]),u.xb(1073742336,i,i,[]),u.xb(1024,f.k,function(){return[[{path:"",component:a}]]},[])])})}}]);